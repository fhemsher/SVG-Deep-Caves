<!DOCTYPE HTML>

<html>

<head> <meta http-equiv="content-type" content="text/html; charset=UTF-8">

  <title>SVG Deep Caves</title>
  <script type="text/javascript" src="highlight.pack.js"></script>
  <link href='highlight.css' rel='stylesheet' />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.5/mapbox.css' rel='stylesheet' />
	<script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.5/mapbox.js'></script>

<script charset="UTF-8" type="text/javascript" src="js00_utility/iframeSelection.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/color.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/pathSeg.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/select.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/helperFuncts.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/cookie.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/print.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/bowser.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/showHideHelp.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/gps.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/showComment.js"></script>
<script charset="UTF-8" type="text/javascript" src="js00_utility/safeXml.js"></script>
<script charset="UTF-8" type="text/javascript" src="js01_start/jquery2.js"></script>
<script charset="UTF-8" type="text/javascript" src="js01_start/initD3Svg.js"></script>
<script charset="UTF-8" type="text/javascript" src="js01_start/svg.js"></script>
<script charset="UTF-8" type="text/javascript" src="js02_location/cursorLoc.js"></script>
<script charset="UTF-8" type="text/javascript" src="js02_location/caveSearch.js"></script>
<script charset="UTF-8" type="text/javascript" src="js02_location/transformAdd.js"></script>
<script charset="UTF-8" type="text/javascript" src="js03_drag/dragObjZoom.js"></script>
<script charset="UTF-8" type="text/javascript" src="js04_svgSource/handleSource.js"></script>
<script charset="UTF-8" type="text/javascript" src="js04_svgSource/showSource.js"></script>
 <script  charset="UTF-8" type="text/javascript" src="d3.v4.min.js"></script>
 <script  charset="UTF-8" type="text/javascript" src="AddElem/Map/zoomUpdate.js"></script>
 <script  charset="UTF-8" type="text/javascript" src="AddElem/Map/bounds.js"></script>
 <script  charset="UTF-8" type="text/javascript" src="js05_publish.js"></script>


 <style type="text/css">
  .noselect {
      /*---prevent text element focus under create/edit elements---*/
-webkit-touch-callout: none; /* iOS Safari */
-webkit-user-select: none; /* Safari */
-khtml-user-select: none; /* Konqueror HTML */
-moz-user-select: none; /* Firefox */
-ms-user-select: none; /* Internet Explorer/Edge */
user-select: none; /* Non-prefixed version, currently supported by Chrome and Opera */
unselectable="on"
onselectstart="return false;"
onmousedown="return false;"
 }
 </style>

</head>

<body style='font-family:arial' >
    <div id=mapContainerDiv style='top:0px;left:0px;width:100%;height:100%'>
	<div class="myMapClass" style='border-radius:20px;position:fixed;top:0px;left:0px;width:100%;height:100%' id='MyMap'></div>
   </div>

<DIV id=containerDiv  style=position:absolute;top:60px;left:0px >
<TABLE>
 <TR>
 <TD valign=top>
 <DIV class=noselect  ID="iframeDiv" style='position:relative;top:0px;left:0px;width:400px'>
<div id=addElemIconFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemIconFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Icon/drawIcon.js"></script>
    <script charset="UTF-8" type="text/javascript" src="js03_drag/dragObjIcon.js"></script>
<div id=addElemCircleFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemCircleFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Circle/drawCircle.js"></script>
    <script charset="UTF-8" type="text/javascript" src="js03_drag/dragObjCircle.js"></script>
<div id=addElemCaveFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemCaveFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Cave/drawCave.js"></script>
<div id=addElemArcFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemArcFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Arc/drawArc.js"></script>
    <script charset="UTF-8" type="text/javascript" src="js03_drag/dragObjArc.js"></script>
<div id=addElemEllipseFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemEllipseFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Ellipse/drawEllipse.js"></script>
    <script charset="UTF-8" type="text/javascript" src="js03_drag/dragObjEllipse.js"></script>
<div id=addElemRectFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemRectFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Rect/drawRect.js"></script>
    <script charset="UTF-8" type="text/javascript" src="js03_drag/dragObjRect.js"></script>
<div id=addElemImageFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemImageFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Image/drawImage.js"></script>
    <script charset="UTF-8" type="text/javascript" src="js03_drag/dragObjImage.js"></script>


<div id=addElemTextFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemTextFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Text/drawText.js"></script>
    <script charset="UTF-8" type="text/javascript" src="js03_drag/dragObjText.js"></script>
<div id=addElemPathFrameDiv  style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemPathFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Path/drawPath.js"></script>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Path/drawPathButton.js"></script>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Path/pathZoneMarker.js"></script>
	<script charset="UTF-8" type="text/javascript" src="js03_drag/dragPathPoint.js"></script>
	<script charset="UTF-8" type="text/javascript" src="js03_drag/dragAddPath.js"></script>

<div id=addElemPathEditFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemPathEditFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Path/drawPathEdit.js"></script>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Path/drawPathEditButton.js"></script>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Path/pathEditZoneMarker.js"></script>
	<script charset="UTF-8" type="text/javascript" src="js03_drag/dragPathPointEdit.js"></script>
<div id=addElemPgonFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemPgonFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Pgon/drawPgon.js"></script>

<div id=addElemTextureFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemTextureFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Texture/drawTexture.js"></script>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Texture/textures.js"></script>
<div id=addElemGradientFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemGradientFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Gradient/drawGradient.js"></script>
<div id=addElemPolygonFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemPolygonFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Polygon/drawPolygon.js"></script>
	<script charset="UTF-8" type="text/javascript" src="js03_drag/dragObjPolygon.js"></script>
<div id=addElemMapFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=addElemMapFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Map/drawMap.js"></script>
<div id=editElemMapFrameDiv style='padding:10px;border-radius:10px;position:fixed;visibility:hidden;width:1px;height:1px;overflow:hidden'><iframe id=editElemMapFrame style='border-width:0px;height:1px;overflow:hidden;'   scrolling='no' frameborder='0'   ></iframe></div>
	<script charset="UTF-8" type="text/javascript" src="AddElem/Map/editMap.js"></script>
    <script  charset="UTF-8" type="text/javascript" src="AddElem/Map/aspMapRequest.js"></script>
    <script  charset="UTF-8" type="text/javascript" src="AddElem/Map/updateMap.js"></script>
    <script  charset="UTF-8" type="text/javascript" src="AddElem/Map/writeMapSymbols.js"></script>
    <script  charset="UTF-8" type="text/javascript" src="AddElem/Map/writeMapTextures.js"></script>
    <script  charset="UTF-8" type="text/javascript" src="AddElem/Map/writeMapGradients.js"></script>



 </DIV>

 </TD>

</TR>
</TABLE>


</DIV>
<div id=gpsDiv style='cursor:default;position:fixed;top:92%;left:5px;'><input id=gpsValue title="GPS" type="text" style='cursor:default;width:300px;font-size:80%;background:black;border;color:lime;border:4px inset gray' /> <span style=padding:2px;background:black;color:lime><input  title="Set GPS crosshairs via mouse right-click" type="checkbox" id=gpsCheck onClick=gpsChecked() /></span></div>
<div id=gpsGotoDiv style='position:fixed;top:96%;left:5px;'><input placeholder='Insert GPS here...latitude,longitude' id=gpsGoToValue title="Center Map at this GPS" type="text" style='cursor:default;width:300px;background:black;border;color:lime;border:4px inset gray' /> <button title='Center map at this GPS' onClick=goToGPS()>go</button></div>


<div class=noselect id=introDiv style='position:absolute;top:60px;left:10px;width:360px;background:#ABCDEF;border:1px solid blue;border-radius:15px;padding:10px;color:MIDNIGHTBLUE'>
<center>
<b>Create/Save/Edit Deep Cave Drawings</b><br>
</center>

  <p></p>
Draw SVG shapes  on the world map and add deep cave symbols.
SVG shapes are: Circles, ellipses, rectangles, text, paths, arcs, polygons, symbols, icons, and images.<p></p>
<img src="Images/introMap.png" alt="" />

Also includes a  Map Library that stores your maps.
<p>
    Your maps can be <b>published</b> into any web page or iframe.
</p>
</div>





<div class=noselect  id=helpDiv style='visibility:hidden;position:absolute;top:60px;left:10px;width:360px;height:1px;background:linen;border:1px solid blue;border-radius:15px;padding:10px;overflow:hidden'>
<table style=width:100%><td style=width:90%; align=center><h7><b>Creating SVG Shape Elements</b></h7></td><td align=right><button onclick=closeHelp()>X</button></td></table>
<br>
SVG shapes are: Circles, ellipses, rectangles, text, paths, arcs, polygons, symbols, icons, and images.<p></p>

<b>Paths</b> - Both linear and curved paths can be created by clicking their points on the drawing. Drag any point to modify its shape.
<br>Paths can also create 3d-like strokes:
<center><img src="Images/pipe3d.png" alt="Control Diagram 3D Piping" width="115" height="61" /></center>
<br>Paths can include evenly-spaced markers along the path:
<center><svg xmlns="http://www.w3.org/2000/svg" id="publishSVG" width="300" height="60" viewBox="0 0 300 60" style="cursor: default; touch-action: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><style xmlns="http://www.w3.org/1999/xhtml"></style><defs xmlns="http://www.w3.org/1999/xhtml"></defs>

<g id="publishG"><g id="publishElemG" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" pointer-events="none"><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(33,23)rotate(57.52877418269262)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(40.761165618896484,34.64546203613281)rotate(-127.78653371949643)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(51.5299186706543,43.34810256958008)rotate(20.511912412806225)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(65.26084899902344,43.62485885620117)rotate(165.78722864430893)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(78.42819213867188,38.89059829711914)rotate(-21.754004011747273)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(91.61798858642578,34.218658447265625)rotate(164.49467862385941)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(105.46361541748047,33.25312042236328)rotate(11.145924748692435)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(118.62879180908203,37.90804672241211)rotate(-155.73611872524313)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(131.64048767089844,43.03495407104492)rotate(14.667089803707556)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(145.50650024414062,44.05995559692383)rotate(173.4154664731933)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(159.0949249267578,40.76487731933594)rotate(-17.814757045046537)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(172.3617401123047,36.29092025756836)rotate(161.4523200030853)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(185.81329345703125,32.43181228637695)rotate(-11.843642515807561)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(199.71221923828125,31.258516311645508)rotate(-175.87414335827106)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(213.20037841796875,34.800254821777344)rotate(22.91443277354848)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(225.7602996826172,40.97504425048828)rotate(-152.19894898728347)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(238.49392700195312,46.751407623291016)rotate(16.769713021059296)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(252.28749084472656,47.265995025634766)rotate(166.869269985224)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(264.9097595214844,41.36123275756836)rotate(-33.97558263619209)">▲</text><text font-size="15" text-anchor="middle" font-family="Arial Unicode MS" stroke-width="0.3" fill="#DC143C" stroke="black" transform="translate(275.83447265625,32.62757873535156)rotate(137.65995981044193)">▲</text><path fill="none" fill-opacity="0" stroke="#9400D3" stroke-width="2" d="M33,23L36.5,28.5C40,34,47,45,58.83336,44.66664C70.6667,44.33336,87.3333,32.66664,101.1667,32.83336C115,33,126,45,142.3334,44.33336C158.6666,43.66664,180.3334,30.33332,198.3334,31.16668C216.3334,32,230.6666,47,244.6666,48C258.667,49,272.333,36,279.167,29.5L286,23" linearD="M 33 23 L 54 56 L 104 21 L 137 57 L 202 17 L 245 62 L 286 23" markers="true" marker-unicode="25B2" marker-fill="#DC143C" marker-fontsize="15" marker-quantity="20"/></g></g></svg></center>

<br><b>Symbols</b> - This a list of thirty(30) polygons that can be created and placed in the drawing.


<br><b>Icons</b> - Over 500 icons created from  unicode text elements.
<center><img src="Images/icons.png" alt="Icons" /></center>

<br><b>Textures</b> - Three(3) types of pre-built patterns are available: circles, lines, and paths. The pattern is placed in either an element's fill or stroke.
<br><b>Gradients</b> - Radial and linear gradients can be created to be placed in either an element's fill or stroke.

<br> <b>Shadows</b> - Each element can be selected to include a drop-shadow.

<center><b>Editing SVG Elements</b></center>
An element can edited only when the World Map is at the same zoom level as when the element was created.
The element's level is shown in either green or red when the cursor is over the element.
<p></p>The level is green when the Word Map zoom level is the same as the element's created zoom level.
 <center><img src="Images/zoomLevel.png" alt="Icons" /></center>

<br><img align=left src="Images/rightClick.png" alt="" width="45" height="65" /> NOTE: Any element can be changed with  cursor over element &amp; mouse <b style=color:red>Right-Click</b>.
</div>




<center>


<div id=selectDrawElemDiv style='width:100%;position:fixed;top:0px;left:0px;'><b><span style="font-weight:bold;color:red;font-family:times new roman">SVG</span> <span style=color:blue><i>Deep Caves</i></span></b><button onClick=openHelp() style=width:25px;height:25px;padding:0px;border:0px;background:transparent ><img src="Images/help.png" alt="Diagrams"  width=25 height=25 /></button>
&nbsp; &nbsp; &nbsp; &nbsp; <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=getMapLibraryButton  style=background-color:#C3E6D3 onClick=getMapLibrary()>Your Maps</button><button onClick=openMapHelp() style=width:20px;height:20px;padding:0px;border:0px;background:transparent ><img src="Images/help.png" alt="Maps"  width=20 height=20 /></button>
  &nbsp;&nbsp;
 <button title="Save current map to Library" onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddMapButton   style=background-color:#C3E6D3 onClick=openAddMapDraw()  ><i>Save Map</i></button><button onClick=openSaveMapHelp() style=width:20px;height:20px;padding:0px;border:0px;background:transparent ><img src="Images/help.png" alt="Maps"  width=20 height=20 /></button>



<br>

            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddCircleButton  style=background-color:linen onClick=openAddCircleDraw()>Circles</button>
            <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddEllipseButton  style=background-color:linen onClick=openAddEllipseDraw()>Ellipses</button>
            <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddRectButton  style=background-color:linen onClick=openAddRectDraw()>Rectangles</button>
            <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddTextButton  style=background-color:linen onClick=openAddTextDraw()>Text</button>
            <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddPathButton  style=background-color:linen onClick=openAddPathDraw()>Paths</button>
            <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddArcButton  style=background-color:linen onClick=openAddArcDraw()>Arcs</button>
            <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddPolygonButton  style=background-color:linen onClick=openAddPolygonDraw()>Polygons</button>
            <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddPgonButton  style=background-color:linen onClick=openAddPgonDraw()>Symbols</button>
            <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddIconButton  style=background-color:linen onClick=openAddIconDraw()>Icons</button>
            <button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddImageButton title="Add image from your computer" style=background-color:linen onClick=openAddImageDraw()>Images</button>
             &nbsp;&nbsp;<button title="Add pattern/texture fill to elements" onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddTextureButton  style=background-color:linen onClick=openAddTexture()><i>Textures</i></button>
            <button title="Add Gradients" onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddGradientButton  style=background-color:linen onClick=openAddGradient()><i>Gradients</i></button>
                       &nbsp;&nbsp;&nbsp;<button onmouseover=this.style.borderColor="lime" onmouseout=this.style.borderColor=''  id=openAddCaveButton  style=background-color:#7df9ff; onClick=openAddCaveDraw()>Caves</button><button onClick=openCaveHelp() style=width:20px;height:20px;padding:0px;border:0px;background:transparent ><img src="Images/help.png" alt="Deep Caves"  width=20 height=20 /></button>
              <input title="Find a Cave" onkeyup=clearCaveNext() onmouseup=clearCaveNext()  id=searchCaveValue placeholder="Name/Location Search" type="text" style='width:150px;background-color:#7df9ff;' /><button disabled onClick=findCave() id=caveFindNextButton  title="Find Cave" ><span id=findNextSpan>Find</span></button>

</div>
</center>


<div class=noselect  id=mapHelpLibraryDiv style='visibility:hidden;position:absolute;top:60px;left:10px;width:360px;height:1px;background:#C3E6D3;;border:1px solid blue;border-radius:15px;padding:10px;overflow:hidden'>
<table style=width:100%><td style=width:90%; align=center><h7><b>Map Library</b></h7></td><td align=right><button onclick=closeMapHelp()>X</button></td></table>
   <center> <i>This lists all maps saved into the library</i></center>

<br>
 A typical listing:
<center><img src="images/myLibrary.png" alt="" /></center>
 Click on the map title to load this map.
Any map loaded can be edited. Then it can be saved as new map.
<p></p>


 Also You can publish the map into a web page or iframe.
 selecting <button>publish</button> will provide the published web page source:
 <textarea style=overflow:hidden;width:330px;height:130px;>
 <!DOCTYPE HTML>
<html>
<script>
  window.open('http://svg-deep-caves.com/PUBLISH/index.htm\?id=map1535555468929','_self')
</script>
</html>
 </textarea>
<p></p>

You can also delete your map  from the library.

</div>

<div class=noselect  id=saveMapHelpDiv style='visibility:hidden;position:absolute;top:60px;left:10px;width:360px;height:1px;background:#C3E6D3;;border:1px solid blue;border-radius:15px;padding:10px;overflow:hidden'>
<table style=width:100%><td style=width:90%; align=center><h7><b>Save Map</b></h7></td><td align=right><button onclick=closeSaveMapHelp()>X</button></td></table>
   <center> <i>Create &amp; save your map</i></center>
  <img src="images/saveMap.png" alt="" />
<br>

   Provide a title for the map and your email address
<br>

Selecting <button>save</button> will store the current map view and its SVG elements into the Map Library.


</div>


<div id=savedTextureDiv style='padding:5px;border-radius:8px;border:2px lightblue solid;visibility:hidden;background:linen;position:fixed;top:5px;left:400px;width:800px;height:70px;overflow-y:hidden;'>
<table id=savedTextureTable ><tr align=center></tr></table>
</div>


<div id=mapTableDiv style='padding:10px;border:1px solid blue;background:#C3E6D3;visibility:hidden;width:370px;height:1px;overflow:hidden;position:absolute;top:5px;left:10px'>
<table style=width:100%><tr><td style=width:90% align=center><b>Map Library</b></td><td align=right></td></tr></table>
 <center><div id=mapEmptyDiv>(Map Library Empty...)</div></center>
<table id=mapTable style=width:100% ></table>
<button title="Close Map Library" id=mapTableCloseButton onmouseover=this.style.background="red"  onmouseout=this.style.background=""  style='visibility:hidden;position:fixed;top:70px;left:345px' onclick=closeMapTable() >X</button>

</div>
<div id=printHideDiv>
<div style='cursor:default;border:1px solid black; border-radius:3px; padding:3px;background:yellow;position:fixed;top:5px;left:2px'><span title="Map Zoom Level" id=zoomLevelSpan></span> <span style=background:lime title="Element Zoom Level" id=elemLevelSpan></span></div>
<div id=emDiv style=width:70%;text-align:center;background:white;position:fixed;top:97%;left:400px;></div>
<div id=myMapTitleDiv style='visibility:hidden;font-size:110%;font-weight:bold;border:1px solid black;border-radius:8px;padding:3px;width:60%;text-align:center;background:#e0b0ff;position:fixed;top:91%;left:400px;'>My Map Title Goes Here</div>
<div id=publishMapDiv style='border:1px solid black;padding:10px;border-radius:10px;background:gainsboro;visibility:hidden;position:fixed;top:20%;left:20%;width:50%;height:50%'>
 <table style=width:100%><tr><td align=center style='width:90%'><b>Publish Your Map</b></td><td><button onclick=publishMapDiv.style.visibility='hidden'>X</button></td></tr></table>
   <center>
    Copy the following as your web page or iframe src file:<br>

   <textarea name="" id="publishValue" style='border:1px solid black;border-radius:8px;padding:5px;width:80%;height:140px;background:white'></textarea></center>

</div>
</div>
<div id=caveHelpDiv style='visibility:hidden;position:absolute;top:60px;left:10px;width:300px;height:1px;background:#7df9ff;border:1px solid blue;border-radius:15px;padding:10px;overflow:hidden'>
<table style=width:100%><td style=width:90%; align=center><b>Cave Symbols</b></td><td align=right><button onclick=closeCaveHelp()>X</button></td></table>
 <center><table id=caveSymbolTable cellpadding=0 cellspacing=0 ></table></center>

</div>
<div  id=commentDiv  style='box-shadow: 4px 4px 4px #888888;-webkit-box-shadow:4px 5px 6px #888888;font-size:80%;z-index:20;padding:2px;position:absolute;top:0px;left:0px;visibility:visible;background-color:linen;border: solid 1px black;border-radius:5px;'></div>


</body>
<script>
document.addEventListener("onload",init(),false)
function init()
{
	initD3Svg()

	startCursorLoc()
  writeEM()
	$(".copy").children().bind('contextmenu', function(e){
		e.stopPropagation();
	});
	$(".copySource").bind('contextmenu', function(e){
		e.stopPropagation();
	});
	$("#mapDiv").children().bind('contextmenu', function(e){
		e.stopPropagation();
	});

   CookieEmail = getCookie("email")

    d3.select("#textSVG").transition().duration(5000).attr("opacity",0)
    setTimeout('mySVG.removeChild(textSVG)',5000)
   testBrowserVersion()
   loadCaveSymbolTable()
   setTimeout(loadCaves,5000)
}

mapContainerDiv.addEventListener('contextmenu', event => event.preventDefault());


function writeEM()
{
   var em="Contact: "
    em+="fhem"
    em+="sher"
    em+="@"
    em+="gm"
    em+="ail."
    em+="com"
   emDiv.innerHTML=em +" &nbsp;&nbsp;<span style=color:maroon>Last Update: 9/03/2018</span>"

}


</script>


</html>